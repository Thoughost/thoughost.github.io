import{k as w,l as g,m as A,_ as f,o as n,c as l,b as e,t as o,g as v,n as m,e as I,q as D,s as E,u as N,r as h,a as p,w as C,F as r,d as u,h as L,i as P}from"./index.b72f29cf.js";import{P as O}from"./PageBanner.0d4a9e1d.js";const S=w({name:"AudioPlayer",data(){return{song_title:"LOADING...",song_artist:"LOADING...",song_total_time:0,song_current_time:0,audio_element:null,is_playing:!1}},computed:{info:t=>g[t.$route.params.id],get_audio:t=>A(t.$route.params.id),play_back_icon(){return this.is_playing?"fas fa-pause":"fas fa-play"},progress_played_width(){return this.song_total_time===0?"0":`${this.song_current_time/this.song_total_time*100}%`}},mounted(){this.load_audio()},methods:{async load_audio(){this.song_title=this.info.audio.title,this.song_artist=this.info.audio.artist;const t=await this.get_audio;this.audio_element=new Audio(t),this.audio_element.addEventListener("loadedmetadata",()=>{this.song_total_time=Math.floor(this.audio_element.duration)}),this.audio_element.addEventListener("timeupdate",this.update_current_time)},convert_seconds_to_time(t){const a=Math.floor(t/60),d=Math.floor(t%60);return`${a}:${d<10?"0"+d:d}`},update_current_time(){this.song_current_time=Math.floor(this.audio_element.currentTime)},toggle(){this.is_playing?this.pause():this.play()},play(){this.audio_element&&(this.audio_element.play(),this.is_playing=!0)},pause(){this.audio_element&&(this.audio_element.pause(),this.is_playing=!1)},seek_to_time(t){const a=t.target,d=parseFloat(a.value);this.audio_element&&(this.audio_element.currentTime=d,this.song_current_time=d)}}});const $={key:0,class:"audio-info"},x={style:{"font-size":"19px"}},B={style:{"font-size":"13px","font-style":"italic"}},R={class:"controls"},T={class:"time-info"},F={class:"progress-bar"},V=["value","max"];function z(t,a,d,y,b,i){return t.info?(n(),l("div",$,[e("h6",x,o(t.song_title),1),e("p",B,o(t.song_artist),1),e("div",R,[e("button",{onClick:a[0]||(a[0]=(...c)=>t.toggle&&t.toggle(...c))},[e("i",{class:v(t.play_back_icon)},null,2)]),e("p",T,o(t.convert_seconds_to_time(t.song_current_time))+" / "+o(t.convert_seconds_to_time(t.song_total_time)),1)]),e("div",F,[e("div",{class:"progress-played",style:m({width:t.progress_played_width})},null,4),e("div",{class:"progress-remaining",style:m({width:100-parseFloat(t.progress_played_width)+"%"})},null,4),e("input",{type:"range",class:"time-slider",value:t.song_current_time,max:t.song_total_time,onInput:a[1]||(a[1]=(...c)=>t.seek_to_time&&t.seek_to_time(...c))},null,40,V)])])):I("",!0)}const M=f(S,[["render",z],["__scopeId","data-v-5ae1ca3f"]]),G={computed:{info:t=>g[t.$route.params.id],get_cover:t=>D(t.$route.params.id),get_banner:t=>E(t.$route.params.id)},methods:{get_icon:N,get_number:t=>t<10?"0"+t:t,download_artwork(){const t=document.getElementById("art-url").innerText,a=document.createElement("a");a.href=t,a.download=t.split("/").pop(),a.click()}},components:{AudioPlayer:M,PageBanner:O}};const _=t=>(L("data-v-bb3c809e"),t=t(),P(),t),K={key:0,class:"album-info"},W={style:{position:"relative"}},q={class:"intro"},U={class:"access"},j=["href"],H={class:"detail container"},J={class:"row"},Q={class:"col-lg"},X=["src"],Y={class:"box",style:{"margin-top":"20px","margin-right":"21px"}},Z=_(()=>e("span",{class:"icon"},[e("i",{class:"fas fa-download"})],-1)),ee=_(()=>e("span",null,"DOWNLOAD ARTWORK",-1)),te=[Z,ee],se={class:"col-lg"},ie={class:"tracks"},oe=_(()=>e("div",{class:"sub-title"},"DISC 1",-1)),ae=_(()=>e("div",{class:"tracks-item",style:{padding:"0"}},null,-1)),ne={class:"my-number"},le={class:"my-title"},_e={class:"author"},de=_(()=>e("hr",{style:{margin:"40px 0"}},null,-1)),re={class:"infos"},ce={class:"sub-info"},ue=_(()=>e("div",{class:"subsub-title"},"INFO",-1)),me=_(()=>e("div",{class:"info-item",style:{padding:"0"}},null,-1)),he={class:"my-title"},pe={class:"sub-info"},ge=_(()=>e("div",{class:"subsub-title"},"CREDIT",-1)),fe=_(()=>e("div",{class:"info-item",style:{padding:"0"}},null,-1)),ve={class:"my-title"},ye={class:"sub-info"},be=_(()=>e("div",{class:"subsub-title"},"RELATED LINKS",-1)),ke=_(()=>e("div",{class:"info-item",style:{padding:"0"}},null,-1)),we={class:"my-title"},Ae=["href"],Ie={key:1,class:"album-info"},De=_(()=>e("div",{class:"head"},[e("h1",{style:{margin:"100px 0px 200px","margin-left":"calc(30% - 200px)"}},"RELEASE NOT FOUND")],-1)),Ee=[De],Ne={hidden:"",id:"art-url"};function Ce(t,a,d,y,b,i){const c=h("PageBanner"),k=h("AudioPlayer");return n(),l(r,null,[i.info!=null?(n(),l("div",K,[p(c,{subtitle:i.info.subtitle,style:m({"background-image":"url("+i.get_banner+")"})},{default:C(()=>[e("div",W,[e("h1",null,o(i.info.title),1),e("div",q,[e("span",null,o(i.info.intro),1)]),e("div",U,[(n(!0),l(r,null,u(i.info.sources,s=>(n(),l("div",{key:s.id},[e("a",{target:"_blank",href:s.url,class:v(s.name)},[e("span",null,o(s.name),1)],10,j)]))),128))])])]),_:1},8,["subtitle","style"]),e("div",H,[e("div",J,[e("div",Q,[e("div",null,[e("img",{class:"cover",src:i.get_cover},null,8,X)]),e("div",Y,[p(k)]),e("a",{class:"button",onClick:a[0]||(a[0]=(...s)=>i.download_artwork&&i.download_artwork(...s)),style:{"margin-top":"6px","margin-right":"21px"}},te)]),e("div",se,[e("div",ie,[oe,ae,(n(!0),l(r,null,u([...new Array(i.info.tracks.length).keys()],s=>(n(),l("div",{key:s,class:"tracks-item"},[e("span",ne,o(i.get_number(s+1)),1),e("div",le,o(i.info.tracks[s].name),1),e("div",_e,o(i.info.tracks[s].author),1)]))),128))])])]),de,e("div",re,[e("div",ce,[ue,e("div",null,[me,(n(!0),l(r,null,u(i.info.infos,s=>(n(),l("div",{key:s.id,class:"info-item"},[e("div",he,o(s.name),1),e("div",null,o(s.value),1)]))),128))])]),e("div",pe,[ge,e("div",null,[fe,(n(!0),l(r,null,u(i.info.credit,s=>(n(),l("div",{key:s.id,class:"info-item"},[e("div",ve,o(s.name),1),e("div",null,o(s.value),1)]))),128))])]),e("div",ye,[be,e("div",null,[ke,(n(!0),l(r,null,u(i.info.links,s=>(n(),l("div",{key:s.id,class:"info-item"},[e("div",we,[e("a",{href:s.value,class:"tradition-a",target:"_blank"},o(s.name),9,Ae)])]))),128))])])])])])):(n(),l("div",Ie,Ee)),e("div",Ne,o(i.get_cover),1)],64)}const Oe=f(G,[["render",Ce],["__scopeId","data-v-bb3c809e"]]);export{Oe as default};
