import{k as w,l as g,m as A,_ as f,o as n,c as a,b as s,t as o,g as v,n as h,e as D,q as I,s as P,u as $,r as m,a as p,w as L,F as c,d as u,h as N,i as O}from"./index.ed26abaf.js";import{P as C}from"./PageBanner.b76d7413.js";const R=w({name:"AudioPlayer",data(){return{song_title:"LOADING...",song_artist:"LOADING...",song_total_time:0,song_current_time:0,audio_element:null,is_playing:!1}},computed:{info:t=>g[t.$route.params.id],get_audio:t=>A(t.$route.params.id),play_back_icon(){return this.is_playing?"fas fa-pause":"fas fa-play"},progress_played_width(){return this.song_total_time===0?"0":`${this.song_current_time/this.song_total_time*100}%`}},mounted(){this.load_audio()},methods:{async load_audio(){this.song_title=this.info.audio.title,this.song_artist=this.info.audio.artist;const t=await this.get_audio;this.audio_element=new Audio(t),this.audio_element.addEventListener("loadedmetadata",()=>{this.song_total_time=Math.floor(this.audio_element.duration)}),this.audio_element.addEventListener("timeupdate",this.update_current_time)},convert_seconds_to_time(t){const d=Math.floor(t/60),_=Math.floor(t%60);return`${d}:${_<10?"0"+_:_}`},update_current_time(){this.song_current_time=Math.floor(this.audio_element.currentTime)},toggle(){this.is_playing?this.pause():this.play()},play(){this.audio_element&&(this.audio_element.play(),this.is_playing=!0)},pause(){this.audio_element&&(this.audio_element.pause(),this.is_playing=!1)},seek_to_time(t){const d=t.target,_=parseFloat(d.value);this.audio_element&&(this.audio_element.currentTime=_,this.song_current_time=_)}}});const S={key:0,class:"audio-info"},B={style:{"font-size":"14px","font-style":"italic"}},E={class:"controls"},T={class:"time-info"},F={class:"progress-bar"},V=["value","max"];function M(t,d,_,y,b,i){return t.info?(n(),a("div",S,[s("h6",null,o(t.song_title),1),s("p",B,o(t.song_artist),1),s("div",E,[s("button",{onClick:d[0]||(d[0]=(...r)=>t.toggle&&t.toggle(...r))},[s("i",{class:v(t.play_back_icon)},null,2)]),s("p",T,o(t.convert_seconds_to_time(t.song_current_time))+" / "+o(t.convert_seconds_to_time(t.song_total_time)),1)]),s("div",F,[s("div",{class:"progress-played",style:h({width:t.progress_played_width})},null,4),s("div",{class:"progress-remaining",style:h({width:100-parseFloat(t.progress_played_width)+"%"})},null,4),s("input",{type:"range",class:"time-slider",value:t.song_current_time,max:t.song_total_time,onInput:d[1]||(d[1]=(...r)=>t.seek_to_time&&t.seek_to_time(...r))},null,40,V)])])):D("",!0)}const W=f(R,[["render",M],["__scopeId","data-v-8bf19b7a"]]),z={computed:{info:t=>g[t.$route.params.id],get_cover:t=>I(t.$route.params.id),get_banner:t=>P(t.$route.params.id)},methods:{get_icon:$,get_number:t=>t<10?"0"+t:t},components:{AudioPlayer:W,PageBanner:C}};const l=t=>(N("data-v-4d31b53b"),t=t(),O(),t),K={key:0,class:"album-info"},G={style:{position:"relative"}},q={class:"intro"},j={class:"access"},H=["href"],J={class:"detail container"},Q={class:"row"},U={class:"col-lg"},X=["src"],Y=l(()=>s("a",{class:"tradition-a download-link-lg",style:{"margin-top":"35px"}},"ARTWORK DOWNLOAD",-1)),Z=l(()=>s("hr",null,null,-1)),x={class:"col-lg"},ss={class:"tracks"},ts=l(()=>s("div",{class:"sub-title"},"DISC 1",-1)),es=l(()=>s("div",{class:"tracks-item",style:{padding:"0"}},null,-1)),is={class:"number"},os={class:"title"},ns={class:"author"},as=l(()=>s("a",{class:"tradition-a mt-4 download-link-sm"},"ARTWORK DOWNLOAD",-1)),ls=l(()=>s("hr",{style:{margin:"60px 0"}},null,-1)),ds={class:"infos"},_s={class:"sub-info"},rs=l(()=>s("div",{class:"subsub-title"},"INFO",-1)),cs=l(()=>s("div",{class:"info-item",style:{padding:"0"}},null,-1)),us={class:"title"},hs={class:"sub-info"},ms=l(()=>s("div",{class:"subsub-title"},"CREDIT",-1)),ps=l(()=>s("div",{class:"info-item",style:{padding:"0"}},null,-1)),gs={class:"title"},fs={class:"sub-info"},vs=l(()=>s("div",{class:"subsub-title"},"RELATED LINKS",-1)),ys=l(()=>s("div",{class:"info-item",style:{padding:"0"}},null,-1)),bs={class:"title"},ks=["href"],ws={key:1,class:"album-info"},As=l(()=>s("div",{class:"head"},[s("h1",{style:{margin:"100px 0 200px"}},"Page not found.")],-1)),Ds=[As];function Is(t,d,_,y,b,i){const r=m("PageBanner"),k=m("AudioPlayer");return i.info!=null?(n(),a("div",K,[p(r,{subtitle:i.info.subtitle,style:h({"background-image":"url("+i.get_banner+")"})},{default:L(()=>[s("div",G,[s("h1",null,o(i.info.title),1),s("div",q,[s("span",null,o(i.info.intro),1)]),s("div",j,[(n(!0),a(c,null,u(i.info.sources,e=>(n(),a("div",{key:e.id},[s("a",{target:"_top",href:e.url,class:v(e.name)},[s("span",null,o(e.name),1)],10,H)]))),128))])])]),_:1},8,["subtitle","style"]),s("div",J,[s("div",Q,[s("div",U,[s("div",null,[s("img",{class:"cover",src:i.get_cover},null,8,X)]),Y,Z,p(k)]),s("div",x,[s("div",ss,[ts,es,(n(!0),a(c,null,u([...new Array(i.info.tracks.length).keys()],e=>(n(),a("div",{key:e,class:"tracks-item"},[s("span",is,o(i.get_number(e+1)),1),s("div",os,o(i.info.tracks[e].name),1),s("div",ns,o(i.info.tracks[e].author),1)]))),128))]),as])]),ls,s("div",ds,[s("div",_s,[rs,s("div",null,[cs,(n(!0),a(c,null,u(i.info.infos,e=>(n(),a("div",{key:e.id,class:"info-item"},[s("div",us,o(e.name),1),s("div",null,o(e.value),1)]))),128))])]),s("div",hs,[ms,s("div",null,[ps,(n(!0),a(c,null,u(i.info.credit,e=>(n(),a("div",{key:e.id,class:"info-item"},[s("div",gs,o(e.name),1),s("div",null,o(e.value),1)]))),128))])]),s("div",fs,[vs,s("div",null,[ys,(n(!0),a(c,null,u(i.info.links,e=>(n(),a("div",{key:e.id,class:"info-item"},[s("div",bs,[s("a",{href:e.value,class:"tradition-a"},o(e.name),9,ks)])]))),128))])])])])])):(n(),a("div",ws,Ds))}const Ls=f(z,[["render",Is],["__scopeId","data-v-4d31b53b"]]);export{Ls as default};
