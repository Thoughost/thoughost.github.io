import{i as k,j as p,k as w,_ as f,o as a,c as l,b as t,t as o,g as v,n as c,e as A,l as D,m as E,s as I,r as m,a as g,w as N,F as d,d as u}from"./index.55adaf3f.js";import{P as C}from"./PageBanner.fcc90ea4.js";const L=k({name:"AudioPlayer",data(){return{song_title:"LOADING...",song_artist:"LOADING...",song_total_time:0,song_current_time:0,audio_element:null,is_playing:!1}},computed:{info:s=>p[s.$route.params.id],get_audio:s=>w(s.$route.params.id),play_back_icon(){return this.is_playing?"fas fa-pause":"fas fa-play"},progress_played_width(){return this.song_total_time===0?"0":`${this.song_current_time/this.song_total_time*100}%`}},mounted(){this.load_audio()},methods:{async load_audio(){this.song_title=this.info.audio.title,this.song_artist=this.info.audio.artist;const s=await this.get_audio;this.audio_element=new Audio(s),this.audio_element.addEventListener("loadedmetadata",()=>{this.song_total_time=Math.floor(this.audio_element.duration)}),this.audio_element.addEventListener("timeupdate",this.update_current_time)},convert_seconds_to_time(s){const e=Math.floor(s/60),r=Math.floor(s%60);return`${e}:${r<10?"0"+r:r}`},update_current_time(){this.song_current_time=Math.floor(this.audio_element.currentTime)},toggle(){this.is_playing?this.pause():this.play()},play(){this.audio_element&&(this.audio_element.play(),this.is_playing=!0)},pause(){this.audio_element&&(this.audio_element.pause(),this.is_playing=!1)},seek_to_time(s){const e=s.target,r=parseFloat(e.value);this.audio_element&&(this.audio_element.currentTime=r,this.song_current_time=r)}}});const P={key:0,class:"audio-info"},O={style:{"font-size":"19px"}},$={style:{"font-size":"13px","font-style":"italic"}},x={class:"controls"},B={class:"time-info"},R={class:"progress-bar"},T=["value","max"];function F(s,e,r,h,y,n){return s.info?(a(),l("div",P,[t("h6",O,o(s.song_title),1),t("p",$,o(s.song_artist),1),t("div",x,[t("button",{onClick:e[0]||(e[0]=(..._)=>s.toggle&&s.toggle(..._))},[t("i",{class:v(s.play_back_icon)},null,2)]),t("p",B,o(s.convert_seconds_to_time(s.song_current_time))+" / "+o(s.convert_seconds_to_time(s.song_total_time)),1)]),t("div",R,[t("div",{class:"progress-played",style:c({width:s.progress_played_width})},null,4),t("div",{class:"progress-remaining",style:c({width:100-parseFloat(s.progress_played_width)+"%"})},null,4),t("input",{type:"range",class:"time-slider",value:s.song_current_time,max:s.song_total_time,onInput:e[1]||(e[1]=(..._)=>s.seek_to_time&&s.seek_to_time(..._))},null,40,T)])])):A("",!0)}const S=f(L,[["render",F],["__scopeId","data-v-5ae1ca3f"]]),V={computed:{info:s=>p[s.$route.params.id],get_cover:s=>D(s.$route.params.id),get_banner:s=>E(s.$route.params.id)},methods:{get_icon:I,get_number:s=>s<10?"0"+s:s,download_artwork(){const s=document.getElementById("art-url").innerText,e=document.createElement("a");e.href=s,e.download=s.split("/").pop(),e.click()}},components:{AudioPlayer:S,PageBanner:C}};const z={key:0,class:"album-info"},M={style:{position:"relative"}},G={class:"intro"},K={class:"access"},W=["href"],j={class:"detail container"},U={class:"row"},q={class:"col-lg"},H=["src"],J={class:"box",style:{"margin-top":"20px","margin-right":"21px"}},Q={class:"col-lg"},X={class:"tracks"},Y={class:"my-number"},Z={class:"my-title"},tt={class:"author"},st={class:"infos"},et={class:"sub-info"},it={class:"my-title"},nt={class:"sub-info"},ot={class:"my-title"},at={class:"sub-info"},lt={class:"my-title"},rt=["href"],dt={key:1,class:"album-info"},_t={hidden:"",id:"art-url"};function ut(s,e,r,h,y,n){const _=m("PageBanner"),b=m("AudioPlayer");return a(),l(d,null,[n.info!=null?(a(),l("div",z,[g(_,{subtitle:n.info.subtitle,style:c({"background-image":"url("+n.get_banner+")"})},{default:N(()=>[t("div",M,[t("h1",null,o(n.info.title),1),t("div",G,[t("span",null,o(n.info.intro),1)]),t("div",K,[(a(!0),l(d,null,u(n.info.sources,i=>(a(),l("div",{key:i.id},[t("a",{target:"_blank",href:i.url,class:v(i.name)},[t("span",null,o(i.name),1)],10,W)]))),128))])])]),_:1},8,["subtitle","style"]),t("div",j,[t("div",U,[t("div",q,[t("div",null,[t("img",{class:"cover",src:n.get_cover},null,8,H)]),t("div",J,[g(b)]),t("a",{class:"button",onClick:e[0]||(e[0]=(...i)=>n.download_artwork&&n.download_artwork(...i)),style:{"margin-top":"6px","margin-right":"21px"}},e[1]||(e[1]=[t("span",{class:"icon"},[t("i",{class:"fas fa-download"})],-1),t("span",null,"DOWNLOAD ARTWORK",-1)]))]),t("div",Q,[t("div",X,[e[2]||(e[2]=t("div",{class:"sub-title"},"DISC 1",-1)),e[3]||(e[3]=t("div",{class:"tracks-item",style:{padding:"0"}},null,-1)),(a(!0),l(d,null,u([...new Array(n.info.tracks.length).keys()],i=>(a(),l("div",{key:i,class:"tracks-item"},[t("span",Y,o(n.get_number(i+1)),1),t("div",Z,o(n.info.tracks[i].name),1),t("div",tt,o(n.info.tracks[i].author),1)]))),128))])])]),e[10]||(e[10]=t("hr",{style:{margin:"40px 0"}},null,-1)),t("div",st,[t("div",et,[e[5]||(e[5]=t("div",{class:"subsub-title"},"INFO",-1)),t("div",null,[e[4]||(e[4]=t("div",{class:"info-item",style:{padding:"0"}},null,-1)),(a(!0),l(d,null,u(n.info.infos,i=>(a(),l("div",{key:i.id,class:"info-item"},[t("div",it,o(i.name),1),t("div",null,o(i.value),1)]))),128))])]),t("div",nt,[e[7]||(e[7]=t("div",{class:"subsub-title"},"CREDIT",-1)),t("div",null,[e[6]||(e[6]=t("div",{class:"info-item",style:{padding:"0"}},null,-1)),(a(!0),l(d,null,u(n.info.credit,i=>(a(),l("div",{key:i.id,class:"info-item"},[t("div",ot,o(i.name),1),t("div",null,o(i.value),1)]))),128))])]),t("div",at,[e[9]||(e[9]=t("div",{class:"subsub-title"},"RELATED LINKS",-1)),t("div",null,[e[8]||(e[8]=t("div",{class:"info-item",style:{padding:"0"}},null,-1)),(a(!0),l(d,null,u(n.info.links,i=>(a(),l("div",{key:i.id,class:"info-item"},[t("div",lt,[t("a",{href:i.value,class:"tradition-a",target:"_blank"},o(i.name),9,rt)])]))),128))])])])])])):(a(),l("div",dt,e[11]||(e[11]=[t("div",{class:"head"},[t("h1",{style:{margin:"100px 0px 200px","margin-left":"calc(30% - 200px)"}},"RELEASE NOT FOUND")],-1)]))),t("div",_t,o(n.get_cover),1)],64)}const gt=f(V,[["render",ut],["__scopeId","data-v-bb3c809e"]]);export{gt as default};
